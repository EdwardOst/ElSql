<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>com.opengamma.elsql (ElSql 1.1 API)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="com.opengamma.elsql (ElSql 1.1 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/opengamma/elsql/package-summary.html">Package</a></li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Package</li>
<li>Next&nbsp;Package</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/opengamma/elsql/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;com.opengamma.elsql</h1>
<div class="docSummary">
<div class="block">A library to manage SQL external to the application.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/opengamma/elsql/SqlParams.html" title="interface in com.opengamma.elsql">SqlParams</a></td>
<td class="colLast">
<div class="block">Provides access to SQL parameters.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/opengamma/elsql/ElSql.html" title="class in com.opengamma.elsql">ElSql</a></td>
<td class="colLast">
<div class="block">Main entry point, providing access to a bundle of elsql formatted SQL.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/opengamma/elsql/ElSqlBundle.html" title="class in com.opengamma.elsql">ElSqlBundle</a></td>
<td class="colLast">
<div class="block">Entry point integrated with the Spring framework, providing access to a bundle of elsql formatted SQL.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/opengamma/elsql/ElSqlConfig.html" title="class in com.opengamma.elsql">ElSqlConfig</a></td>
<td class="colLast">
<div class="block">Configuration that provides support for differences between databases.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/opengamma/elsql/MapSqlParams.html" title="class in com.opengamma.elsql">MapSqlParams</a></td>
<td class="colLast">
<div class="block">Provides access to SQL parameters from a map.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/opengamma/elsql/SpringSqlParams.html" title="class in com.opengamma.elsql">SpringSqlParams</a></td>
<td class="colLast">
<div class="block">Provides access to SQL parameters from Spring.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package com.opengamma.elsql Description">Package com.opengamma.elsql Description</h2>
<div class="block">A library to manage SQL external to the application.
 <p>
 This package contains a standalone library for managing SQL.
 <p>
 There are a number of techniques for creating SQL within an application.
 The main ones are:
 <ul>
 <li>an Object Relational Mapper framework, such as Hibernate
 <li>appending Strings, such as sql = "SELECT foo " + "FROM bar " + "WHERE ..."
 <li>using a fluent API library, with methods like select("foo").from("bar").where(..)
 <li>reading in an external file, such as a properties file
 </ul>
 This library focuses on the last of these, using an external file.
 It is a standalone library with no dependencies.
 <p>
 The key benefit is a simple external file that a DBA can understand, something
 which is invaluable for later maintenance and debugging.
 <p>
 The file format is a file which typically has the suffix ".elsql".
 Here is an example highlighting the structure:
 <pre>
  -- an example comment
  &#064;NAME(SelectBlogs)
    SELECT &#064;INCLUDE(CommonFields)
    FROM blogs
    WHERE id = :id
      &#064;AND(:date)
        date &gt; :date
  &#064;NAME(CommonFields)
    title, author, content
 </pre>
 <ul>
 <li>two dashes are used for comments
 <li>tags start with the @ symbol
 <li>the primary blocks are &#064;NAME(name) - the name refers to the block
 <li>indentation is used to create blocks - indented lines "belong" to the parent less-indented line
 <li>variables start with a colon
 <li>the various tags aim to handle over 80% of your needs
 </ul>
 <p>
 These are the tags:
 <p>
 &#064;NAME(name)<br>
 The name tag creates a named block which can be referred to from the application
 or another part of the elsql file. The tag must be on a line by itself.
 <p>
 &#064;INCLUDE(nameOrVariable)<br>
 The include tag includes the contents of a named block or a variable (prefixed by colon).
 The tag may be embedded in the middle of a line.
 <p>
 &#064;WHERE<br>
 The where tag works together with the and/or tags to build dynamic searches.
 The tag will output an SQL WHERE, but only if there is at least some content output from the block.
 Normally, the where tag is not needed, as there is typically always one active where clause.
 The where tag must be on a line by itself.
 <p>
 &#064;AND(expression), &#064;OR(expression)<br>
 These tags are equivalent and output SQL AND or OR.
 The block that the tag contains is only output if the expression is true.
 The output SQL will avoid outputting the AND or OR if it immediately follows a WHERE.
 The and/or tag must be on a line by itself.
 <p>
 The expression is evaluated as follows.
 If the variable does not exist, then the result is false.
 Otherwise, if the expression is (:foo) and foo is a boolean, then the result is the boolean value.
 Otherwise, if the expression is (:foo) and foo is not a boolean, then the result is true.
 Otherwise, if the expression is (:foo = bar) then the result is true if the variable equals "bar" ignoring case.
 <p>
 &#064;LIKE sqlWithVariable<br>
 &#064;LIKE(variable)<br>
 The like tag adds either an SQL = or an SQL LIKE based on the specified variable.
 If the tag has no variable in brackets, then the text between the like tag and the end
 of the line is parsed for a variable.
 This tag can differ by database, so the actual SQL is generated by the configuration class.
 <p>
 &#064;ENDLIKE<br>
 The end-like tag is used on rare occasions to scope the end of the like tag.
 Normally, the SQL should be written such that the end of the like tag is the end of the line.
 <p>
 &#064;EQUALS sqlWithVariable<br>
 &#064;EQUALS(variable)<br>
 The equals tag adds either an SQL = or an SQL IS NULL based on the specified variable.
 If the tag has no variable in brackets, then the text between the equals tag and the end
 of the line is parsed for a variable.
 <p>
 &#064;ENDEQUALS<br>
 The end-equals tag is used on rare occasions to scope the end of the equals tag.
 Normally, the SQL should be written such that the end of the equals tag is the end of the line.
 <p>
 &#064;PAGING(offsetVariable,fetchVariable)<br>
 The paging tag adds the SQL code to page the results of a search.
 These can differ by database, so the actual SQL is generated by the configuration class.
 The tag bases its actions on the specified integer variables which should begin with a colon.
 This replaces the OFFSETFETCH/FETCH tags in most situations as it enables window functions
 to be used where necessary.
 <p>
 &#064;OFFSETFETCH<br>
 &#064;OFFSETFETCH(offsetVariable,fetchVariable)<br>
 The offset-fetch tag adds the SQL OFFSET and FETCH clauses for paging results.
 These can differ by database, so the actual SQL is generated by the configuration class.
 The tag bases its actions on the specified integer variables which should begin with a colon.
 The names "paging_offset" and "paging_fetch" are used if the variables are not specified.
 <p>
 &#064;FETCH(fetchVariable)<br>
 The fetch tag adds the SQL FETCH clause. It works as per the offset-fetch tag.
 <p>
 To use the library, simply obtain an instance of <code>ElSql</code> and call <code>getSql()</code>.</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/opengamma/elsql/package-summary.html">Package</a></li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Package</li>
<li>Next&nbsp;Package</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/opengamma/elsql/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2009-Present by OpenGamma Inc. and individual contributors, released under the Apache License Version 2.0</small></p>
</body>
</html>
